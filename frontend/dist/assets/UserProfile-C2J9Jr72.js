import{d as i,c as U,L as N,j as e,G as J,Z as K,_ as Z,$ as O,r as a,U as G,Y as ee,h as te,a0 as oe,a1 as ie,a2 as ne}from"./index-BcVzZ_lP.js";const re=i.div.withConfig({displayName:"UserProfilestyled__UserAccountContainer",componentId:"sc-1qatztv-0"})(["display:flex;flex-direction:column;align-items:center;width:100%;padding:20px 20px 80px 20px;max-width:1400px;margin:0 auto;"]),se=i.div.withConfig({displayName:"UserProfilestyled__AccountActivityWrapperOuter",componentId:"sc-1qatztv-1"})(["background-color:#eee;"]),ae=i.div.withConfig({displayName:"UserProfilestyled__BannerWrapperOuter",componentId:"sc-1qatztv-2"})(["position:relative;width:100%;"]),le=i.div.withConfig({displayName:"UserProfilestyled__BannerWrapperInner",componentId:"sc-1qatztv-3"})(["width:100%;"]),ce=i.div.withConfig({displayName:"UserProfilestyled__BannerUploadWrapper",componentId:"sc-1qatztv-4"})(["display:flex;flex-direction:column;position:absolute;right:0;top:0;padding:20px;&:hover,input:hover,button:hover{cursor:pointer;}"]),de=i.div.withConfig({displayName:"UserProfilestyled__ProfileBanner",componentId:"sc-1qatztv-5"})(["padding:20px 0;border-bottom-left-radius:40px;border-bottom-right-radius:40px;width:100%;height:200px;background-image:url(",");background-size:cover;background-position:center;"],o=>o.banner_image),pe=i.div.withConfig({displayName:"UserProfilestyled__ProfileContentWrapper",componentId:"sc-1qatztv-6"})(["width:60%;margin:75px auto;display:grid;place-items:center;grid-template-columns:1fr 1fr 1fr;@media screen and (max-width:1024px){width:75%;}@media screen and (max-width:768px){margin-bottom:2.4rem;grid-template-columns:2fr 1fr !important;grid-template-rows:auto auto;row-gap:1.2rem;}"]),me=i.div.withConfig({displayName:"UserProfilestyled__ProfilePictureWrapper",componentId:"sc-1qatztv-7"})(["display:grid;grid-template-columns:1fr 1fr 1fr;width:60%;user-select:none;margin:100px auto;place-items:center;@media screen and (max-width:1024px){width:75%;}@media screen and (max-width:768px){img{grid-column:2;}}"]),ge=i.div.withConfig({displayName:"UserProfilestyled__ProfileInfoColumn1",componentId:"sc-1qatztv-8"})(["grid-column:1;place-items:center;text-align:center;width:100%;@media screen and (max-width:768px){grid-row:1;grid-column:span 2;}"]),ue=i.div.withConfig({displayName:"UserProfilestyled__ProfileInfoColumn2",componentId:"sc-1qatztv-9"})(["grid-column:2;width:100%;height:100%;align-items:center;display:flex;justify-content:flex-start;border-right:2px solid lightgrey;border-left:2px solid lightgrey;padding:20px;@media screen and (max-width:768px){grid-row:2;grid-column:1;border-left:none;}"]),xe=i.div.withConfig({displayName:"UserProfilestyled__ProfileInfoColumn3",componentId:"sc-1qatztv-10"})(["grid-column:3;width:100%;display:flex;justify-content:flex-start;padding:20px;@media screen and (max-width:768px){grid-row:2;grid-column:2;}"]),he=i.div.withConfig({displayName:"UserProfilestyled__BioContentWrapper",componentId:"sc-1qatztv-11"})(["width:100%;overflow-wrap:break-word;@media screen and (max-width:768px){height:100%;}"]),fe=i.h2.withConfig({displayName:"UserProfilestyled__UserName",componentId:"sc-1qatztv-12"})(["margin:10px 0 5px;"]),ye=i.h3.withConfig({displayName:"UserProfilestyled__UserProfession",componentId:"sc-1qatztv-13"})(["color:#333;margin-bottom:0.8rem;"]),T=i.h3.withConfig({displayName:"UserProfilestyled__UserInfoSubtitle",componentId:"sc-1qatztv-14"})(["width:fit-content;margin-bottom:0.8rem;border-bottom:2px solid black;"]),we=i.a.withConfig({displayName:"UserProfilestyled__EditProfileLink",componentId:"sc-1qatztv-15"})(["color:#222222;text-decoration:underline;margin-top:10px;display:flex;justify-content:center;align-items:center;img{width:25px;margin-left:0.4rem;}"]),be=i.h2.withConfig({displayName:"UserProfilestyled__AccountActivityTitle",componentId:"sc-1qatztv-16"})(['font-size:1.6rem;padding:1.2rem 0 1.2rem 0;font-family:"Alata";letter-spacing:0.5px;width:100%;text-align:center;background:',";color:#222;text-transform:uppercase;"],U.secondary),ve=i.div.withConfig({displayName:"UserProfilestyled__AccountActivity",componentId:"sc-1qatztv-17"})(["display:flex;justify-content:center;width:100%;text-align:center;gap:8.2rem;margin-top:40px;@media screen and (max-width:1130px){gap:2.4rem;}@media screen and (max-width:768px){flex-direction:column;align-items:center;}"]),L=i.div.withConfig({displayName:"UserProfilestyled__Section",componentId:"sc-1qatztv-18"})(["width:clamp(250px,45%,450px);background-color:#fff;border-radius:10px;height:fit-content;padding:20px 40px 60px 40px;box-shadow:0 4px 8px rgba(0,0,0,0.1);@media screen and (max-width:768px){width:75vw;}"]),$=i.h3.withConfig({displayName:"UserProfilestyled__SectionTitle",componentId:"sc-1qatztv-19"})(["text-transform:uppercase;font-size:1.2rem;text-align:center;color:#031f2a;letter-spacing:1px;padding-bottom:1.2rem;margin-bottom:1.2rem;border-bottom:1px solid #ccc;"]),je=i.div.withConfig({displayName:"UserProfilestyled__CommentHistory",componentId:"sc-1qatztv-20"})(["display:flex;flex-direction:column;align-items:flex-start;.no-comments{width:100%;text-align:center;color:#333;font-style:italic;}"]),_e=i.div.withConfig({displayName:"UserProfilestyled__CommentItem",componentId:"sc-1qatztv-21"})(["background-color:#f5f5f5;padding:10px;margin-bottom:10px;border-radius:5px;display:flex;justify-content:space-between;width:100%;gap:10px;"]),Ce=i.p.withConfig({displayName:"UserProfilestyled__CommentText",componentId:"sc-1qatztv-22"})(["font-size:14px;margin:0;"]),E=i.a.withConfig({displayName:"UserProfilestyled__CommentLink",componentId:"sc-1qatztv-23"})(["color:#007bff;text-decoration:none;&:hover{text-decoration:underline;}"]),Ie=i(N).withConfig({displayName:"UserProfilestyled__ViewMoreCommentsLink",componentId:"sc-1qatztv-24"})(["color:#007bff;font-size:14px;cursor:pointer;text-align:left;&:hover{text-decoration:underline;}"]),ke=i.div.withConfig({displayName:"UserProfilestyled__SocialSectionWrapperOuter",componentId:"sc-1qatztv-25"})(["user-select:none;padding-left:20px;a{text-decoration:underline;color:blue;}p{margin-bottom:0.4rem;}ul{display:flex;list-style:none;padding-inline-start:0;}ul li{padding-left:0.4rem;user-select:none;}ul li:first-child{padding-left:0;}img{max-width:25px;}span{padding-top:0.4rem;padding-bottom:0.8rem;display:flex;align-items:center;img{margin-right:0.4rem;}}"]),V=i.div.withConfig({displayName:"UserProfilestyled__FollowsWrapper",componentId:"sc-1qatztv-26"})(["p{margin-bottom:0;}"]),Pe=i.div.withConfig({displayName:"UserProfilestyled__PremiumBadge",componentId:"sc-1qatztv-27"})(["width:fit-content;padding:4px 32px;background:",";clip-path:polygon(0 0,100% 0,85% 48%,100% 100%,0 100%,15% 50%);font-size:1rem;font-weight:bold;user-select:none;p{color:white;text-shadow:1px 1px 0 black,-1px 1px 0 black,1px -1px 0 black,-1px -1px 0 black;letter-spacing:1px;}"],({level:o})=>o==="starter"?"linear-gradient(315deg, rgba(34, 185, 50, 1) 23%, rgba(157, 233, 165, 1) 50%, rgba(34, 185, 50, 1) 77%)":o==="casual pro"?"linear-gradient(315deg, rgba(34, 50, 185, 1) 23%, rgba(165, 185, 233, 1) 50%, rgba(34, 50, 185, 1) 77%)":"linear-gradient(315deg, rgba(255, 215, 0, 1) 23%, rgba(255, 233, 165, 1) 50%, rgba(255, 215, 0, 1) 77%)"),Fe=i.div.withConfig({displayName:"SocialLinksDisplaystyled__SocialSectionWrapperInner",componentId:"sc-1jhfva-0"})(["h3{margin-bottom:0.8rem;border-bottom:2px solid black;width:fit-content;}"]),Ue="/assets/ig-icon-BPQ3K29S.png",Ne="/assets/linkedin-icon-CMq5fWny.png",Se="/assets/x-icon-CPWSm0NQ.png",Be="/assets/meta-icon-B2FREPuy.png",ze="/assets/youtube-icon-DdhMY3XI.png",We=({socialLinks:o})=>{const s={github:J,instagram:Ue,facebook:Be,linkedin:Ne,tiktok:K,twitter:Se,youtube:ze};return Object.keys(o).length===0?null:e.jsx(Fe,{children:e.jsx("ul",{children:Object.entries(o).map(([n,r])=>e.jsx("li",{children:e.jsx("a",{href:r.startsWith("http")?r:`http://${r}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:s[n],alt:`${n} Logo`})})},n))})})},qe=i.button.withConfig({displayName:"FollowButtonstyled__FollowBtn",componentId:"sc-m7xfka-0"})(["background-color:",";color:",';font-family:"Alata",sans-serif;padding:12px 24px;font-size:1rem;text-transform:uppercase;border:none;border-radius:30px;margin:0 auto;'],U.primary,U.white),Ae=({userId:o,isFollowing:s,setIsFollowing:n,setFollowersCount:r})=>{const x=async()=>{try{s?(await Z(o),n(!1),r(l=>l-1)):(await O(o),n(!0),r(l=>l+1))}catch(l){console.error("Error following/unfollowing:",l)}};return e.jsx(qe,{onClick:x,children:s?"Unfollow":"Follow"})},Te=i.div.withConfig({displayName:"FavoritesSectionstyled__FavoritesWrapper",componentId:"sc-a0myju-0"})(["height:100%;"]),Le=i.div.withConfig({displayName:"FavoritesSectionstyled__FavouritesContent",componentId:"sc-a0myju-1"})(["display:flex;align-items:flex-start;justify-content:center;gap:2.4rem;height:100%;padding-top:1.2rem;div{display:flex;flex-direction:column;align-items:center;}"]),M=i.button.withConfig({displayName:"FavoritesSectionstyled__ViewAllButton",componentId:"sc-a0myju-2"})(["background-color:#ffa500;border:none;color:white;padding:4px 16px;margin-top:20px;font-size:16px;cursor:pointer;border-radius:2px;&:hover{background-color:#e69500;}"]),D=i.div.withConfig({displayName:"FavoritesSectionstyled__FavouriteIcon",componentId:"sc-a0myju-3"})(["width:60px;height:60px;background-color:#f5f5f5;border-radius:50%;margin-bottom:10px;display:flex;justify-content:center;align-items:center;font-size:24px;color:#007bff;img{width:120%;}"]),$e=i.div.withConfig({displayName:"FavoritesSectionstyled__FavoritesDropdownWrapper",componentId:"sc-a0myju-4"})(['width:100%;display:flex;user-select:none;select{font-family:"Roboto";transition:all 150ms ease;&:hover{cursor:pointer;background-color:#eeeeee;}border:1px solid black;border-radius:4px;padding:2px 4px;width:20%;min-width:fit-content;}']),H=i.div.withConfig({displayName:"FavoritesSectionstyled__FavWrapper",componentId:"sc-a0myju-5"})(["width:50%;box-shadow:2px 2px 8px rgba(0,0,0,0.3);border-radius:8px;padding:20px 40px;user-select:none;"]),Ee=i.div.withConfig({displayName:"FavoritesSectionstyled__FilteredItemWrapper",componentId:"sc-a0myju-6"})(["display:flex;flex-direction:column;align-items:center;gap:1.2rem;margin-top:20px;max-height:320px;overflow-y:auto;div{background-color:#f9f9f9;border:1px solid #ddd;border-radius:4px;padding:8px 12px;width:80%;text-align:center;font-size:16px;a{color:#007bff;text-decoration:none;font-weight:500;&:hover{text-decoration:underline;}}}"]),Ve=i.button.withConfig({displayName:"FavoritesSectionstyled__BackButton",componentId:"sc-a0myju-7"})(["background-color:#eee;border:none;color:#333;padding:6px 12px;margin-bottom:20px;font-size:14px;cursor:pointer;border-radius:4px;align-self:flex-start;display:flex;gap:4px;transition:all 150ms ease;&:hover{background-color:#ccc;font-weight:bold;}img{width:20px;}"]),Me=i.div.withConfig({displayName:"FavoritesSectionstyled__ViewHeader",componentId:"sc-a0myju-8"})(["font-size:18px;font-weight:bold;margin-bottom:16px;text-align:center;"]),R=i.div.withConfig({displayName:"FavoritesSectionstyled__EmptyMessage",componentId:"sc-a0myju-9"})(["font-size:16px;color:#666;text-align:center;margin-top:20px;"]),De=i.div.withConfig({displayName:"FavoritesSectionstyled__TopButtonsWrapper",componentId:"sc-a0myju-10"})(["display:flex;justify-content:space-between;"]);i.div.withConfig({displayName:"FavoritesSectionstyled__ScrollableDiv",componentId:"sc-a0myju-11"})(["max-height:520px;overflow-y:auto;padding:0 16px;margin-top:10px;"]);const He="/assets/tutorial-icon-BuBng6YB.png",Re="/assets/blog-icon-D89qJ1gj.png",Ye="/assets/back-icon-DAE0N70E.png",Y="http://localhost:5173",Ge=({isOwnProfile:o,publicUserId:s})=>{var z,W,q,A;const[n,r]=a.useState("0"),[x,l]=a.useState("default"),[p,w]=a.useState(null),[d,h]=a.useState({tutorials:[],blogs:[]}),{favouriteTutorials:m=[],favouriteBlogs:f=[],purchasedItems:y=[]}=a.useContext(G)||{};a.useEffect(()=>{!o&&s&&(async()=>{try{const F=await ee(s);h(F)}catch(F){console.error("Error fetching public user favourites:",F)}})()},[o,s]);const b=o?f.filter(t=>t.isPremium):d.blogs.filter(t=>t.isPremium),j=o?f.filter(t=>!t.isPremium):d.blogs.filter(t=>!t.isPremium),_=o?m.filter(t=>t.isPremium):d.tutorials.filter(t=>t.isPremium),C=o?m.filter(t=>!t.isPremium):d.tutorials.filter(t=>!t.isPremium),v=t=>{r(t.target.value)},c=()=>{switch(n){case"1":return{tutorials:C,blogs:j};case"2":return{tutorials:_,blogs:b};case"3":return o?{tutorials:y.filter(t=>t.product_type==="tutorial"),blogs:y.filter(t=>t.product_type==="blog")}:{tutorials:[],blogs:[]};default:return o?{tutorials:m,blogs:f}:{tutorials:d.tutorials,blogs:d.blogs}}},g=()=>{switch(n){case"1":return"Free";case"2":return"Premium";case"3":return"Purchased";default:return""}},u=c(),I=g(),Q=p==="tutorials"?"Tutorials":"Blogs",S=t=>{w(t),l("view")},X=()=>{l("default"),w(null)},k=t=>t.id!==void 0&&t.title!==void 0,P=t=>t.id!==void 0&&t.title!==void 0,B=t=>t.product_id!==void 0&&t.product_name!==void 0;return e.jsx(Te,{children:x==="default"?e.jsxs(e.Fragment,{children:[e.jsx($e,{children:o&&e.jsxs("select",{value:n,onChange:v,children:[e.jsx("option",{value:"0",children:"All"}),e.jsx("option",{value:"1",children:"Free"}),e.jsx("option",{value:"2",children:"Premium"}),e.jsx("option",{value:"3",children:"Purchased"})]})}),e.jsxs(Le,{children:[e.jsxs(H,{children:[e.jsx(D,{children:e.jsx("img",{src:He,alt:"Tutorials"})}),e.jsx("p",{children:"Tutorials"}),e.jsx(M,{onClick:()=>S("tutorials"),children:"View"})]}),e.jsxs(H,{children:[e.jsx(D,{children:e.jsx("img",{src:Re,alt:"Blogs"})}),e.jsx("p",{children:"Blogs"}),e.jsx(M,{onClick:()=>S("blogs"),children:"View"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(De,{children:[e.jsxs(Ve,{onClick:X,children:[e.jsx("img",{src:Ye,alt:""}),e.jsx("span",{children:"Back"})]}),e.jsxs(Me,{children:[I," ",Q]})]}),e.jsxs(Ee,{children:[p==="tutorials"&&((z=u.tutorials)==null?void 0:z.length)===0&&e.jsxs(R,{children:["No ",I," Tutorials"]}),p==="blogs"&&((W=u.blogs)==null?void 0:W.length)===0&&e.jsxs(R,{children:["No ",I," Blogs"]}),p==="tutorials"&&((q=u.tutorials)==null?void 0:q.map(t=>e.jsx("div",{children:e.jsx("a",{href:`${Y}/tutorial/${k(t)?t.id:t.product_id}`,target:"_blank",rel:"noopener noreferrer",children:k(t)?t.title:B(t)?t.product_name:"Unknown Title"})},k(t)?t.id:t.product_id))),p==="blogs"&&((A=u.blogs)==null?void 0:A.map(t=>e.jsx("div",{children:e.jsx("a",{href:`${Y}/blog/${P(t)?t.id:t.product_id}`,target:"_blank",rel:"noopener noreferrer",children:P(t)?t.title:B(t)?t.product_name:"Unknown Title"})},P(t)?t.id:t.product_id)))]})]})})},Qe="http://localhost:5000",Je=({profile:o,comments:s,isEditable:n=!1,isOwnProfile:r,publicUserId:x,onEditProfileClick:l,onBannerChange:p,onBannerUpload:w,children:d})=>{const h=a.useContext(G),m=h==null?void 0:h.profile,f=o.social_links||{},[y,b]=a.useState(0),[j,_]=a.useState(0),[C,v]=a.useState(!1);return a.useEffect(()=>{(async()=>{try{const g=await ie(o.id),u=await ne(o.id);b(g.followersCount),v(g.isFollowing),_(u.followingCount)}catch(g){console.error("Error fetching follow data:",g)}})()},[o.id]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{children:[e.jsx(le,{children:e.jsx(de,{banner_image:o.banner_image?`${Qe}${o.banner_image}`:"",children:e.jsx(me,{children:e.jsx(te,{src:o.profile_picture||"",alt:`${o.name}`,width:"150px",border:"4px solid white",bg:"grey"})})})}),n&&e.jsxs(ce,{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:p}),e.jsx("button",{onClick:w,children:"Upload Banner"})]})]}),e.jsxs(pe,{children:[e.jsxs(ge,{children:[e.jsx(fe,{children:o.display_name||o.name}),e.jsx(ye,{children:o.profession}),!!o.isPremium&&o.premiumLevel&&e.jsx(Pe,{level:o.premiumLevel,children:e.jsx("p",{children:o.premiumLevel.toUpperCase()})}),n&&e.jsx(we,{href:"#",onClick:l,children:e.jsx("u",{children:"Edit Profile"})}),!n&&m&&e.jsx(oe,{userId:o.id.toString(),variant:"publicUser"}),!n&&m&&e.jsx(Ae,{userId:o.id,isFollowing:C,setIsFollowing:v,setFollowersCount:b})]}),e.jsx(ue,{children:e.jsxs(he,{children:[e.jsx(T,{children:"Bio"}),e.jsx("p",{children:o.bio||"No bio available."})]})}),e.jsx(xe,{children:e.jsxs(ke,{children:[e.jsx(T,{children:"Links"}),e.jsx(We,{socialLinks:f}),d,e.jsx(V,{children:e.jsxs(N,{to:r?"/my-account/followers":`/user/${o.id}/followers`,children:[y," ",y===1?"Follower":"Followers"]})}),e.jsx(V,{children:e.jsxs(N,{to:r?"/my-account/following":`/user/${o.id}/following`,children:[j," Following"]})})]})})]}),e.jsx(be,{children:"Account Activity"}),e.jsx(se,{children:e.jsx(re,{children:e.jsxs(ve,{children:[e.jsxs(L,{className:"favorites-section",children:[e.jsx($,{children:"Favorites"}),e.jsx(Ge,{isOwnProfile:r,publicUserId:x})]}),e.jsxs(L,{children:[e.jsx($,{children:"Comment History"}),e.jsx(je,{children:s.length===0?e.jsx("p",{className:"no-comments",children:"No comments available"}):e.jsxs(e.Fragment,{children:[s.slice(0,5).map(c=>e.jsxs(_e,{children:[e.jsx(Ce,{children:c.content}),c.content_type==="tutorial"?e.jsx(E,{href:`/tutorial/${c.content_id}/comments/${c.id}`,children:"View in Tutorial"}):e.jsx(E,{href:`/blog/${c.content_id}/comments/${c.id}`,children:"View in Blog"})]},c.id)),e.jsx(Ie,{to:r?"/my-account/comment-history":`/user/${o.id}/comment-history`,children:"See All Comments"})]})})]})]})})})]})};export{Je as U};
