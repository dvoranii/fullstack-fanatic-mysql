import{u as h,g as x,r,U as P,j as e,H as v,V as U,X as F,Y as j}from"./index-BcVzZ_lP.js";import{U as N}from"./UserProfile-C2J9Jr72.js";const I=()=>{const{id:s}=h(),u=x(),n=r.useContext(P),o=n==null?void 0:n.profile,i=o&&Number(s)===Number(o.id)?o.id:Number(s),[a,f]=r.useState(null),[m,d]=r.useState(!0),[c,g]=r.useState(null),[l,p]=r.useState({tutorials:[],blogs:[]});return r.useEffect(()=>{if(o&&Number(s)&&Number(s)===Number(o.id)){u("/my-account",{replace:!0});return}(async()=>{try{const t=await U(i.toString()||""),b=await F(i);f({...t,comments:b.comments})}catch(t){g("Failed to load user profile"),console.error(t)}finally{d(!1)}})(),(async()=>{try{const t=await j(i);p(t)}catch(t){console.error("Failed to fetch public user favourites:",t)}})()},[s]),m?e.jsx("p",{children:"Loading..."}):c?e.jsx("p",{children:c}):a?e.jsxs(e.Fragment,{children:[e.jsxs(v,{children:[e.jsx("title",{children:`${a.user.name}'s Profile - Full Stack Fanatic`}),e.jsx("meta",{name:"description",content:`View ${a.user.name}'s tutorials, blogs, and comments on Full Stack Fanatic.`})]}),e.jsx(N,{profile:a.user,publicUserId:i,favouriteTutorials:l.tutorials,favouriteBlogs:l.blogs,comments:a.comments||[],isOwnProfile:!1})]}):e.jsx("p",{children:"User profile not found"})};export{I as default};
